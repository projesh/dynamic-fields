/*!
 * Dynamic Fields
 *
 * Author: projesh sindurakar
 * Email: chkprojesh@gmail.com
 * 
 * Required
 * -----------------------------
 * jQuery and jQuery-UI
 *
 * Date: 2015-12-14
 */

$(document).ready(function(){"use strict";var t=0;$("#c").on("click","#ap",function(){t++,$(".h").append('<div class="col p'+t+'" p="p '+t+'"> <div class="w"><div class="i"><input p="'+t+'" class="resizable" type="text"></div><button class="dp" t="p '+t+'">Del</button></div></div>'),$(".c").append('<div class="col p'+t+'" p="p '+t+'"><button class="ac" t="p '+t+'"><b>V</b></button></div>'),$("#c .resizable").resizable({containment:"parent"})}),$("#c").on("click",".dp",function(){var t=$(this).attr("t");t=t.replace(" ",""),$(".h ."+t).remove(),$(".c ."+t).remove()}),$("#c").on("click",".ac",function(){var t=$(this).attr("t"),c=t.replace(" ","");$("."+c,".c").append('<div class="wrap"><div><input type="text"> <button class="dc" t="'+t+'">Del</button></div></div><button class="ac" t="'+t+'">V</button>'),$(this).remove()}),$("#c").on("click",".dc",function(){$(this).closest(".wrap").remove()}),$("#cd").on("click",function(){$(".h").html(""),$(".c").html("")}),$("#saveData").on("click",function(){var t=[],c={};$("#c .h input").each(function(){var e={},i=this.value,n=$(this).attr("p"),a=$(this).width();c={field:i,project:n,parent:null,width:a},t.push(c);var s=$(this).closest(".col").attr("p");s=s.replace(" ",""),$("#c .c ."+s+" input").each(function(c){e={parent:i,project:n,field:this.value,sequence:c+1},t.push(e)})}),console.log(t)})});
